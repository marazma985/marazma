{"version":3,"sources":["Conponents/redux-form/Input.module.css","Validate/Validator.js","Conponents/Dialogs/Messeges/Messeges.module.css","Conponents/Dialogs/Dialogs.module.css","Conponents/Dialogs/DialogsFrend/DialogsFrend.module.css","Conponents/Dialogs/DialogsFrend/Frend/Frend.module.css","Conponents/Dialogs/DialogsFrend/Frend/Frend.jsx","Conponents/Dialogs/DialogsFrend/DialogsFrend.jsx","Conponents/Dialogs/DialogsFrend/DialogsFrendContainer.jsx","Hoc/withLoginRedirect.jsx","Conponents/redux-form/InputErorr.jsx","Conponents/Dialogs/Messeges/Message/Message.jsx","Conponents/Dialogs/Messeges/Messeges.jsx","Conponents/Dialogs/Messeges/MessegesContainer.jsx","Conponents/Dialogs/Dialogs.jsx"],"names":["module","exports","required","value","maxLengthCreator","maxLength","length","Frend","props","className","s","blockFrend","activeClassName","active","a","to","id","ava","src","name","DialogsFrend","frendList","dialogs","map","f","userName","photos","small","key","DialogsFrendAPI","this","getDialogsTC","React","Component","mapDispatchToProps","DialogsFrendContainer","connect","state","dialogsPage","mapLoginToProps","login","auth","InputErorr","input","meta","hasError","touched","error","form","Message","m","senderName","body","button","onClick","deleteMessage","maxLength50","DialogMessageFormRedux","reduxForm","onSubmit","handleSubmit","textSms","Field","validate","type","component","placeholder","addSms","Messeges","e","userId","match","params","deleteMessageTC","target","messages","messagesBlock","mes","formData","text","message","sendMessageTC","MessegesAPI","getMessagesTC","prevState","obj","MessegesContainer","compose","RedirectComponent","withRouter","Dialogs","main","grid","fon"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,KAAO,oBAAoB,MAAQ,uB,iCCDrD,oEAAO,IAAMC,EAAW,SAACC,GACrB,IAAGA,EACH,MAAO,kBAEEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,KAAGA,EAAMG,OAASD,GAClB,MAAM,OAAN,OAAcA,EAAd,e,oBCLJL,EAAOC,QAAU,CAAC,QAAU,0BAA0B,OAAS,yBAAyB,SAAW,2BAA2B,cAAgB,gCAAgC,IAAM,sBAAsB,OAAS,yBAAyB,UAAY,8B,oBCAxPD,EAAOC,QAAU,CAAC,KAAO,sBAAsB,GAAK,oBAAoB,IAAM,qBAAqB,UAAY,2BAA2B,EAAI,mBAAmB,KAAO,wB,oBCAxKD,EAAOC,QAAU,CAAC,UAAY,kC,oBCA9BD,EAAOC,QAAU,CAAC,EAAI,iBAAiB,IAAM,mBAAmB,OAAS,wB,gLCgB1DM,EAbD,SAACC,GACb,OACE,qBAAKC,UAAWC,IAAEC,WAAW,QAA7B,SAGE,eAAC,IAAD,CAASC,gBAAiBF,IAAEG,OAAQJ,UAAWC,IAAEI,EAAGC,GAAI,YAAcP,EAAMQ,GAA5E,UACI,qBAAKP,UAAWC,IAAEO,IAAKC,IAAKV,EAAMS,MAClC,8BAAMT,EAAMW,aCOPC,EAZM,SAACZ,GACpB,OACE,qBAAKC,UAAWC,IAAEW,UAAlB,SACGb,EAAMc,QAAQC,KAAI,SAAAC,GAAC,OAAE,cAAC,EAAD,CAAmBR,GAAIQ,EAAER,GAAIG,KAAMK,EAAEC,SAAUR,IAAKO,EAAEE,OAAOC,OAAjDH,EAAEI,W,QCJpCC,E,uKACJ,WACEC,KAAKtB,MAAMuB,iB,oBAEb,WACE,OACE,cAAC,EAAD,eAAkBD,KAAKtB,Y,GANCwB,IAAMC,WAiBhCC,EAAqB,CACvBH,kBAQaI,EAFeC,aAbR,SAACC,GACrB,MAAO,CACLf,QAASe,EAAMC,YAAYhB,WAWwBY,EAAzBE,CAA6CP,G,eCzBvEU,EAAkB,SAACF,GAAD,MAAW,CACzBG,MAAMH,EAAMI,KAAKD,Q,qFCQVE,EAVI,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,MAAOC,EAAgC,EAAhCA,KAAMnC,EAA0B,EAA1BA,UAAcD,EAAY,iBACnDqC,EAAWD,EAAKE,SAAWF,EAAKG,MACtC,OACQ,qBAAKtC,UAAWC,IAAEsC,KAAlB,SACI,+CAAOvC,UAAWoC,EAAWnC,IAAEqC,MAAO,IAAKtC,EAAYA,GAAgBkC,GAAWnC,O,kBCOnFyC,EAXA,SAACC,GACZ,OACI,8BACK,gCACI,+BAAMA,EAAEC,WAAR,QACED,EAAEE,KACH,wBAAQ3C,UAAWC,IAAE2C,OAAQrC,GAAIkC,EAAElC,GAAIsC,QAASJ,EAAEK,cAAlD,mCCDZC,EAAcpD,YAAiB,IA2C/BqD,EAAyBC,YAAU,CAACV,KAAK,qBAAhBU,EAZL,SAAClD,GACzB,OACE,sBAAMmD,SAAUnD,EAAMoD,aAAcnD,UAAWC,IAAEmD,QAAjD,SACI,gCACI,cAACC,EAAA,EAAD,CAAOC,SAAU,CAAE7D,IAASsD,GAAeQ,KAAK,OAAOC,UAAWvB,EAAYvB,KAAK,UAAU+C,YAAY,uBACzG,wBAAQzD,UAAWC,IAAEyD,OAArB,6BAUGC,EA1CE,SAAC5D,GAEhB,IAAI+C,EAAgB,SAACc,GACnB,IAAIC,EAAS9D,EAAM+D,MAAMC,OAAOF,OAChC9D,EAAMiE,gBAAgBJ,EAAEK,OAAO1D,GAAGsD,IAQpC,OACE,sBAAK7D,UAAWC,IAAEiE,SAAlB,UACE,qBAAKlE,UAAWC,IAAEkE,cAAlB,SACCpE,EAAM8B,YAAYqC,SAASpD,KAAI,SAAA2B,GAAC,OAAI,cAAC,EAAD,aAASK,cAAeA,GAAmBL,SAGhF,qBAAKzC,UAAW,QAASC,IAAEmE,IAA3B,SACGrE,EAAM+D,MAAMC,OAAOF,QAAU,cAACb,EAAD,CAAwBE,SAb7C,SAACmB,GACd,IAAIC,EAAOD,EAASE,QAChBV,EAAS9D,EAAM+D,MAAMC,OAAOF,OAChC9D,EAAMyE,cAAcX,EAAOS,YCbzBG,E,uKAEJ,WACE,IAAIZ,EAASxC,KAAKtB,MAAM+D,MAAMC,OAAOF,OACrCxC,KAAKtB,MAAM2E,cAAcb,K,gCAE3B,SAAmBc,GAEjB,GAAGA,EAAUb,MAAMC,OAAOF,QAAQxC,KAAKtB,MAAM+D,MAAMC,OAAOF,OAAQ,CAElE,IAAIA,EAASxC,KAAKtB,MAAM+D,MAAMC,OAAOF,OACrCxC,KAAKtB,MAAM2E,cAAcb,M,oBAK3B,WACE,OACE,cAAC,EAAD,eAAcxC,KAAKtB,Y,GAlBCwB,IAAMC,WA4B5BoD,EAAI,CACJJ,kBACAE,kBACAV,qBAOWa,EALWC,aJjCO,SAACtD,GAAc,IACtCuD,EADqC,4JAGvC,WACI,OAAI1D,KAAKtB,MAAMgC,MAER,cAACP,EAAD,IAFqB,cAAC,IAAD,CAAUlB,GAAG,eAJN,GACXiB,IAAMC,WAStC,OADmBG,YAAQG,EAARH,CAAyBoD,KI0B9CpD,aAbkB,SAACC,GACnB,MAAM,CACJC,YAAYD,EAAMC,eAWI+C,GAFAE,CAGxBE,YAAWP,ICjBEQ,UAtBC,SAAClF,GACf,OACE,qBAAKC,UAAWC,IAAEiF,KAAlB,SAIE,sBAAKlF,UAAWC,IAAEkF,KAAlB,UACE,oBAAInF,UAAWC,IAAEmF,IAAjB,yBACA,qBAAKpF,UAAWC,IAAEW,UAAlB,SACE,cAAC,EAAD,MAEF,qBAAKZ,UAAWC,IAAEwC,EAAlB,SACE,cAAC,EAAD","file":"static/js/5.2344eee3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Input_form__2l1_0\",\"error\":\"Input_error__ovyr1\"};","export const required = (value) =>{\r\n    if(value) return undefined;\r\n    return 'need send text'\r\n}\r\nexport const maxLengthCreator = (maxLength) => (value) =>{\r\n    if(value.length < maxLength) return undefined;\r\n    return `Max ${maxLength} simbols`\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textSms\":\"Messeges_textSms__Mb0cl\",\"addSms\":\"Messeges_addSms__39HTS\",\"messages\":\"Messeges_messages__14ZSj\",\"messagesBlock\":\"Messeges_messagesBlock__1J6kM\",\"mes\":\"Messeges_mes__3Pk4G\",\"button\":\"Messeges_button__awLyQ\",\"spanErorr\":\"Messeges_spanErorr__Nq3in\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Dialogs_grid__2w44c\",\"p1\":\"Dialogs_p1__15VKk\",\"fon\":\"Dialogs_fon__22OIG\",\"frendList\":\"Dialogs_frendList__YaI6B\",\"m\":\"Dialogs_m___q_Ih\",\"main\":\"Dialogs_main__1OXCR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"frendList\":\"DialogsFrend_frendList__3t3M6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"a\":\"Frend_a__3mmEE\",\"ava\":\"Frend_ava___OpV2\",\"active\":\"Frend_active__26jOL\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Frend.module.css';\r\n\r\nconst Frend = (props) => {\r\n  return (\r\n    <div className={s.blockFrend+' flex'}>\r\n      {\r\n}\r\n      <NavLink activeClassName={s.active} className={s.a} to={'/dialogs/' + props.id}>\r\n          <img className={s.ava} src={props.ava}  />\r\n          <div>{props.name}</div>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Frend;","import React from 'react';\r\nimport s from './DialogsFrend.module.css';\r\nimport Frend from './Frend/Frend';\r\n\r\nlet newArray=[];\r\n\r\nconst DialogsFrend = (props) => {\r\n  return (\r\n    <div className={s.frendList}>\r\n      {props.dialogs.map(f=><Frend key={f.key} id={f.id} name={f.userName} ava={f.photos.small}/>)\r\n      }\r\n      \r\n      \r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DialogsFrend;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport DialogsFrend from './DialogsFrend';\r\nimport {getDialogsTC} from '../../../Redux/dialogs-reduser'\r\n\r\nclass DialogsFrendAPI extends React.Component{\r\n  componentDidMount(){\r\n    this.props.getDialogsTC();\r\n  }\r\n  render(){\r\n    return(\r\n      <DialogsFrend {...this.props}/>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogs: state.dialogsPage.dialogs\r\n  }\r\n\r\n};\r\nlet mapDispatchToProps = {\r\n  getDialogsTC,\r\n}\r\n\r\n\r\n\r\n\r\nconst DialogsFrendContainer = connect(mapStateToProps, mapDispatchToProps)(DialogsFrendAPI)\r\n\r\nexport default DialogsFrendContainer;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapLoginToProps = (state) =>({\r\n        login:state.auth.login\r\n});\r\n\r\nexport const withLoginRedirect = (Component) =>{\r\n    class RedirectComponent extends React.Component{\r\n        \r\n        render(){\r\n            if(!this.props.login) return<Redirect to='/login'></Redirect>;\r\n            \r\n            return <Component />\r\n        }\r\n    }\r\n    let withRedirect = connect(mapLoginToProps)(RedirectComponent);\r\n    return withRedirect\r\n}","import React from 'react';\r\nimport s from './Input.module.css'\r\n\r\nconst InputErorr = ({ input, meta, className, ...props }) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n            <div className={s.form} >\r\n                <input className={hasError ? s.error +' '+ className : className } {...input} {...props} />\r\n            </div>\r\n\r\n    )\r\n}\r\n\r\nexport default InputErorr","import React from \"react\";\r\nimport s from '../Messeges.module.css'\r\n\r\nconst Message =(m)=>{\r\n    return(\r\n        <div>\r\n             <div >\r\n                 <h3 >{m.senderName} :</h3>\r\n                  {m.body}\r\n                  <button className={s.button} id={m.id} onClick={m.deleteMessage} > delete message</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Message;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../Validate/Validator';\r\nimport InputErorr from '../../redux-form/InputErorr';\r\nimport s from './Messeges.module.css';\r\nimport Message from './Message/Message.jsx'\r\n\r\nlet newArray = [];\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\n\r\n\r\nconst Messeges = (props) => {\r\n  \r\n  let deleteMessage = (e) => {\r\n    let userId = props.match.params.userId;\r\n    props.deleteMessageTC(e.target.id,userId);\r\n  }\r\n  let onSubmit = (formData) => {\r\n    let text = formData.message;\r\n    let userId = props.match.params.userId;\r\n    props.sendMessageTC(userId,text);\r\n     \r\n  }\r\n  return (\r\n    <div className={s.messages}>\r\n      <div className={s.messagesBlock}>\r\n      {props.dialogsPage.messages.map(m => <Message deleteMessage={deleteMessage} {...m}  />)}\r\n        \r\n      </div>\r\n      <div className={'flex '+ s.mes} >\r\n        {props.match.params.userId && <DialogMessageFormRedux onSubmit={onSubmit}/>}\r\n        \r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nconst DialogMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={s.textSms} >\r\n        <div>\r\n            <Field validate={[ required,maxLength50]}  type='text' component={InputErorr} name='message' placeholder='write your message' />\r\n            <button className={s.addSms} >add sms</button>\r\n\r\n        </div>\r\n        \r\n    </form>\r\n  )\r\n}\r\nconst DialogMessageFormRedux = reduxForm({form:'DialogMessageForm'})(DialogMessageForm);\r\n\r\n\r\nexport default Messeges;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withLoginRedirect } from '../../../Hoc/withLoginRedirect.jsx';\r\nimport Messeges from './Messeges'\r\nimport {sendMessageTC,getMessagesTC,deleteMessageTC} from '../../../Redux/dialogs-reduser'\r\nimport { withRouter } from 'react-router';\r\n\r\nclass MessegesAPI extends React.Component{\r\n  \r\n  componentDidMount(){\r\n    let userId = this.props.match.params.userId;\r\n    this.props.getMessagesTC(userId);\r\n  }\r\n  componentDidUpdate(prevState){\r\n    \r\n    if(prevState.match.params.userId!=this.props.match.params.userId ){\r\n      \r\n    let userId = this.props.match.params.userId;\r\n    this.props.getMessagesTC(userId);\r\n    }\r\n    \r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <Messeges {...this.props} />\r\n    )\r\n  }\r\n}\r\nlet mapStateToProps=(state)=>{\r\n  return{\r\n    dialogsPage:state.dialogsPage,\r\n  }\r\n  \r\n};\r\nlet obj={\r\n    sendMessageTC,\r\n    getMessagesTC,\r\n    deleteMessageTC\r\n}\r\nconst MessegesContainer = compose(\r\n  withLoginRedirect,\r\n  connect(mapStateToProps,obj)\r\n)(withRouter(MessegesAPI)); \r\n\r\nexport default MessegesContainer;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogsFrendContainer from './DialogsFrend/DialogsFrendContainer';\r\nimport MessegesContainer from './Messeges/MessegesContainer.jsx';\r\n\r\nconst Dialogs = (props) => {\r\n  return (\r\n    <div className={s.main} >\r\n      \r\n      \r\n      \r\n      <div className={s.grid}>\r\n        <h1 className={s.fon}>__Dialogs__</h1>\r\n        <div className={s.frendList}>\r\n          <DialogsFrendContainer/>\r\n        </div>\r\n        <div className={s.m}>\r\n          <MessegesContainer />\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n\r\n    \r\n  );\r\n}\r\n\r\nexport default Dialogs;"],"sourceRoot":""}