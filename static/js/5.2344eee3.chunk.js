(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{224:function(e,s,t){e.exports={form:"Input_form__2l1_0",error:"Input_error__ovyr1"}},227:function(e,s,t){"use strict";t.d(s,"b",(function(){return a})),t.d(s,"a",(function(){return n}));var a=function(e){if(!e)return"need send text"},n=function(e){return function(s){if(!(s.length<e))return"Max ".concat(e," simbols")}}},248:function(e,s,t){e.exports={textSms:"Messeges_textSms__Mb0cl",addSms:"Messeges_addSms__39HTS",messages:"Messeges_messages__14ZSj",messagesBlock:"Messeges_messagesBlock__1J6kM",mes:"Messeges_mes__3Pk4G",button:"Messeges_button__awLyQ",spanErorr:"Messeges_spanErorr__Nq3in"}},297:function(e,s,t){e.exports={grid:"Dialogs_grid__2w44c",p1:"Dialogs_p1__15VKk",fon:"Dialogs_fon__22OIG",frendList:"Dialogs_frendList__YaI6B",m:"Dialogs_m___q_Ih",main:"Dialogs_main__1OXCR"}},298:function(e,s,t){e.exports={frendList:"DialogsFrend_frendList__3t3M6"}},299:function(e,s,t){e.exports={a:"Frend_a__3mmEE",ava:"Frend_ava___OpV2",active:"Frend_active__26jOL"}},304:function(e,s,t){"use strict";t.r(s);var a=t(0),n=t.n(a),r=t(297),c=t.n(r),i=t(3),o=t(34),d=t(35),u=t(37),l=t(36),m=t(21),j=t(298),b=t.n(j),p=t(15),g=t(299),_=t.n(g),O=t(2),f=function(e){return Object(O.jsx)("div",{className:_.a.blockFrend+" flex",children:Object(O.jsxs)(p.b,{activeClassName:_.a.active,className:_.a.a,to:"/dialogs/"+e.id,children:[Object(O.jsx)("img",{className:_.a.ava,src:e.ava}),Object(O.jsx)("div",{children:e.name})]})})},h=function(e){return Object(O.jsx)("div",{className:b.a.frendList,children:e.dialogs.map((function(e){return Object(O.jsx)(f,{id:e.id,name:e.userName,ava:e.photos.small},e.key)}))})},x=t(59),v=function(e){Object(u.a)(t,e);var s=Object(l.a)(t);function t(){return Object(o.a)(this,t),s.apply(this,arguments)}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.getDialogsTC()}},{key:"render",value:function(){return Object(O.jsx)(h,Object(i.a)({},this.props))}}]),t}(n.a.Component),M={getDialogsTC:x.c},N=Object(m.b)((function(e){return{dialogs:e.dialogsPage.dialogs}}),M)(v),k=t(31),y=t(7),C=function(e){return{login:e.auth.login}},D=t(106),I=t(107),S=t(227),T=t(229),L=t(224),F=t.n(L),w=["input","meta","className"],P=function(e){var s=e.input,t=e.meta,a=e.className,n=Object(T.a)(e,w),r=t.touched&&t.error;return Object(O.jsx)("div",{className:F.a.form,children:Object(O.jsx)("input",Object(i.a)(Object(i.a)({className:r?F.a.error+" "+a:a},s),n))})},B=t(248),E=t.n(B),J=function(e){return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("h3",{children:[e.senderName," :"]}),e.body,Object(O.jsx)("button",{className:E.a.button,id:e.id,onClick:e.deleteMessage,children:" delete message"})]})})},q=Object(S.a)(50),G=Object(I.a)({form:"DialogMessageForm"})((function(e){return Object(O.jsx)("form",{onSubmit:e.handleSubmit,className:E.a.textSms,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(D.a,{validate:[S.b,q],type:"text",component:P,name:"message",placeholder:"write your message"}),Object(O.jsx)("button",{className:E.a.addSms,children:"add sms"})]})})})),V=function(e){var s=function(s){var t=e.match.params.userId;e.deleteMessageTC(s.target.id,t)};return Object(O.jsxs)("div",{className:E.a.messages,children:[Object(O.jsx)("div",{className:E.a.messagesBlock,children:e.dialogsPage.messages.map((function(e){return Object(O.jsx)(J,Object(i.a)({deleteMessage:s},e))}))}),Object(O.jsx)("div",{className:"flex "+E.a.mes,children:e.match.params.userId&&Object(O.jsx)(G,{onSubmit:function(s){var t=s.message,a=e.match.params.userId;e.sendMessageTC(a,t)}})})]})},H=function(e){Object(u.a)(t,e);var s=Object(l.a)(t);function t(){return Object(o.a)(this,t),s.apply(this,arguments)}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.props.getMessagesTC(e)}},{key:"componentDidUpdate",value:function(e){if(e.match.params.userId!=this.props.match.params.userId){var s=this.props.match.params.userId;this.props.getMessagesTC(s)}}},{key:"render",value:function(){return Object(O.jsx)(V,Object(i.a)({},this.props))}}]),t}(n.a.Component),K={sendMessageTC:x.e,getMessagesTC:x.d,deleteMessageTC:x.b},Q=Object(k.d)((function(e){var s=function(s){Object(u.a)(a,s);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return this.props.login?Object(O.jsx)(e,{}):Object(O.jsx)(y.a,{to:"/login"})}}]),a}(n.a.Component);return Object(m.b)(C)(s)}),Object(m.b)((function(e){return{dialogsPage:e.dialogsPage}}),K))(Object(y.f)(H));s.default=function(e){return Object(O.jsx)("div",{className:c.a.main,children:Object(O.jsxs)("div",{className:c.a.grid,children:[Object(O.jsx)("h1",{className:c.a.fon,children:"__Dialogs__"}),Object(O.jsx)("div",{className:c.a.frendList,children:Object(O.jsx)(N,{})}),Object(O.jsx)("div",{className:c.a.m,children:Object(O.jsx)(Q,{})})]})})}}}]);
//# sourceMappingURL=5.2344eee3.chunk.js.map