(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{224:function(t,e,n){t.exports={form:"Input_form__2l1_0",error:"Input_error__ovyr1"}},225:function(t,e,n){"use strict";var o=n(3),a=n(229),r=(n(0),n(224)),c=n.n(r),s=n(2),i=["input","meta","className"];e.a=function(t){var e=t.input,n=t.meta,r=t.className,l=Object(a.a)(t,i),u=n.touched&&n.error;return Object(s.jsxs)("div",{className:c.a.form,children:[Object(s.jsx)("input",Object(o.a)(Object(o.a)({className:u?c.a.error+" "+r:r},e),l)),u&&Object(s.jsx)("div",{className:"spanErorr",children:Object(s.jsx)("span",{children:n.error})})]})}},227:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var o=function(t){if(!t)return"need send text"},a=function(t){return function(e){if(!(e.length<t))return"Max ".concat(t," simbols")}}},234:function(t,e,n){t.exports={avatar:"ProfileInfo_avatar__2n1iJ",ava:"ProfileInfo_ava__3b3xv",hov:"ProfileInfo_hov__1R19M",photoop:"ProfileInfo_photoop__1D_kp",avaInfo:"ProfileInfo_avaInfo__3Bgj4",info:"ProfileInfo_info__2ZNrX",contact:"ProfileInfo_contact__tYRU7",status:"ProfileInfo_status__2W_QR",formEdit:"ProfileInfo_formEdit__2dR4-",forma:"ProfileInfo_forma__323_V",formData:"ProfileInfo_formData__2bwrb",cont:"ProfileInfo_cont__7vvhp",startDialogButton:"ProfileInfo_startDialogButton__2kBd5",modal:"ProfileInfo_modal__1Cau_",modal_content:"ProfileInfo_modal_content__3dbX3",closeModalWindow:"ProfileInfo_closeModalWindow__2x4ya"}},235:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(61);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,a=!1,r=void 0;try{for(var c,s=t[Symbol.iterator]();!(o=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);o=!0);}catch(i){a=!0,r=i}finally{try{o||null==s.return||s.return()}finally{if(a)throw r}}return n}}(t,e)||Object(o.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},293:function(t,e,n){t.exports={post:"Post_post__11Lik"}},294:function(t,e,n){},295:function(t,e,n){},303:function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(34),r=n(35),c=n(37),s=n(36),i=n(0),l=n.n(i),u=n(21),f=n(107),j=n(106),d=n(227),b=n(225),p=n(293),h=n.n(p),m=n(2),O=function(t){return Object(m.jsxs)("div",{className:h.a.post,children:[Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("img",{src:"https://kartinkin.com/uploads/posts/2021-03/1617037152_22-p-sova-oboi-28.jpg",alt:""}),Object(m.jsxs)("div",{className:"block",children:[Object(m.jsxs)("div",{children:[t.name," "]}),Object(m.jsx)("div",{children:t.mesaege})]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{children:"like "}),Object(m.jsx)("span",{children:t.likeCount})]})]})},v=n(294),x=n.n(v),_=Object(d.a)(10),y=Object(f.a)({form:"ProfilePostForm"})((function(t){return Object(m.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(m.jsx)(j.a,{validate:[d.b,_],component:b.a,name:"postText",placeholder:"send post"}),Object(m.jsx)("button",{children:"add post"})]})})),g=function(t){return Object(m.jsxs)("div",{className:x.a.posts,children:[Object(m.jsx)("h1",{children:"My posts"}),Object(m.jsx)(y,{onSubmit:function(e){var n={type:"addPost",postText:e.postText};t.addPostContainer(n)}}),t.posts.map((function(t){return Object(m.jsx)(O,{mesaege:t.message,name:t.name,likeCount:t.likeCount})}))]})},I=(Object(u.b)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPostContainer:function(e){t(e)}}}))(g),n(295)),P=n.n(I),k=n(235),N=n(234),C=n.n(N),M=Object(f.a)({form:"profile"})((function(t){return Object(m.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"aboutMe:"})," ",Object(m.jsx)(j.a,{component:b.a,type:"text",validate:[],name:"aboutMe",placeholder:t.aboutMe})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"lookingForAJob:"})," ",Object(m.jsx)(j.a,{component:"input",type:"checkbox",validate:[],name:"lookingForAJob"})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"lookingForAJobDescription:"}),Object(m.jsx)(j.a,{className:C.a.description,component:b.a,type:"textarea",validate:[],name:"lookingForAJobDescription",placeholder:t.lookingForAJobDescription})]}),Object(m.jsx)("p",{children:"Contacts:"}),Object(m.jsx)("div",{className:C.a.contact,children:Object.keys(t.contacts).map((function(e){return Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:e})," :",Object(m.jsx)(j.a,{component:b.a,type:"text",validate:[],name:"contacts."+e,placeholder:t.contacts[e]})]},e)}))}),Object(m.jsx)("button",{children:"save"})]})})),S=function(t){var e=function(){if(void 0!=t.contacts){var e=Object.keys(t.contacts).map((function(e){return t.contacts[e]&&Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:e}),": ",t.contacts[e]]},e)})),n=0;for(var o in e)""==e[o]&&++n,null==e[o]&&++n;return 8!=n&&e}};return Object(m.jsxs)("form",{className:C.a.forma,onSubmit:t.handleSubmit,children:[t.aboutMe&&Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"aboutMe:"})," ",t.aboutMe]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"lookingForAJob:"})," ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"lookingForAJobDescription:"})," ",t.lookingForAJobDescription]}),e()&&Object(m.jsxs)("div",{className:C.a.cont,children:[Object(m.jsx)("p",{children:Object(m.jsx)("b",{children:"Contacts:"})}),Object(m.jsx)("div",{className:C.a.contact,children:e()})]})]})},A=n.p+"static/media/photoop1.04c7e54b.png",T=function(t){var e=Object(i.useState)(!1),n=Object(k.a)(e,2),a=n[0],r=n[1],c=Object(i.useState)(!1),s=Object(k.a)(c,2),l=s[0],u=s[1],f=Object(i.useState)(t.status),j=Object(k.a)(f,2),d=j[0],b=j[1];Object(i.useEffect)((function(){b(t.status)}),[t.status]);var p=function(e){r(!a),a&&t.updateStatusTC(e.currentTarget.value)},h=function(e){e.fullName=t.profileInfo.fullName,console.log(e),u(!l),t.setProfileInfoTC(e,t.myId)},O=document.getElementById("my_modal"),v=document.getElementById("closeModalWindow");return window.onclick=function(t){t.target!=O&&t.target!=v||(O.style.display="none")},Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:C.a.avaInfo,children:[Object(m.jsxs)("div",{className:C.a.avatar,children:[Object(m.jsxs)("div",{className:t.isMyPage()&&C.a.hov,onClick:t.isMyPage()&&function(){O.style.display="block"},children:[Object(m.jsx)("img",{className:C.a.ava,src:t.profileInfo.photos.large?t.profileInfo.photos.large:"https://pm1.narvii.com/7924/1da85cd6f60fceda99aa450734fb8a3596731e4er1-690-690v2_hq.jpg",alt:""}),Object(m.jsx)("img",{className:C.a.photoop,src:A,alt:""})]}),t.isMyPage()?Object(m.jsx)("div",{id:"my_modal",className:C.a.modal,children:Object(m.jsxs)("div",{className:C.a.modal_content,children:[Object(m.jsx)("span",{id:"closeModalWindow",className:C.a.closeModalWindow,children:"\xd7"}),Object(m.jsx)("input",{accept:"image/*",type:"file",onChange:function(e){e.target.files.length&&t.setPhotoTC(e.target.files[0])}})]})}):Object(m.jsx)("button",{className:C.a.startDialogButton,onClick:function(){t.startDialogTC(t.profileInfo.userId)},children:"Start dialog"})]}),Object(m.jsxs)("div",{className:C.a.info,children:[Object(m.jsx)("h1",{children:t.profileInfo.fullName}),Object(m.jsx)("div",{className:C.a.status,children:a?Object(m.jsx)("input",{spellcheck:"false",onChange:function(t){b(t.currentTarget.value)},onBlur:p,autoFocus:!0,value:d}):Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{onClick:t.isMyPage()&&p,children:["Status: ",t.status]}),Object(m.jsx)("hr",{})]})}),l?Object(m.jsx)("div",{className:C.a.formEdit,children:Object(m.jsx)(M,Object(o.a)({initialValues:t.profileInfo,onSubmit:h},t.profileInfo))}):Object(m.jsx)("div",{className:t.isMyPage()&&C.a.formData,onClick:t.isMyPage()&&function(){u(!l)},children:Object(m.jsx)(S,Object(o.a)({onSubmit:h},t.profileInfo))})]})]})})},w=function(t){return Object(m.jsx)("div",{className:P.a.content,children:Object(m.jsx)(T,Object(o.a)({},t))})},D=n(45),F=n(59),J=n(24),E=n(7);function B(t,e){return t===e}function W(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var o=e.length,a=0;a<o;a++)if(!t(e[a],n[a]))return!1;return!0}function R(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"===typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}var U=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];var r=0,c=o.pop(),s=R(o),i=t.apply(void 0,[function(){return r++,c.apply(null,arguments)}].concat(n)),l=t((function(){for(var t=[],e=s.length,n=0;n<e;n++)t.push(s[n].apply(null,arguments));return i.apply(null,t)}));return l.resultFunc=c,l.dependencies=s,l.recomputations=function(){return r},l.resetRecomputations=function(){return r=0},l}}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,n=null,o=null;return function(){return W(e,n,arguments)||(o=t.apply(null,arguments)),n=arguments,o}}));var V=function(t){return t.profilePage.profileInfo},X=U((function(t){return t.profilePage.status}),(function(t){return t})),q=function(t){Object(c.a)(n,t);var e=Object(s.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"refresh",value:function(){var t=this.props.match.params.userId;t=t||this.props.myId,this.props.getProfileTC(t)}},{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!=t.profileInfo.userId&&this.refresh()}},{key:"isMyPage",value:function(){return this.match.params.userId==this.myId||!this.match.params.userId}},{key:"render",value:function(){return Object(m.jsx)(w,Object(o.a)(Object(o.a)({},this.props),{},{isMyPage:this.isMyPage}))}}]),n}(l.a.Component),L={getProfileTC:D.c,updateStatusTC:D.f,getAuthMeTC:J.b,setPhotoTC:D.d,setProfileInfoTC:D.e,startDialogTC:F.f},Q=Object(u.b)((function(t){return{profileInfo:V(t),status:X(t),myId:t.auth.id}}),L)(Object(E.f)(q));e.default=Q}}]);
//# sourceMappingURL=4.6457b3c9.chunk.js.map